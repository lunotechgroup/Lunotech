{% extends "base.html" %}
{% load static %}

{% block content %}
<main class="flex-1">
  
  <section class="hero-section" id="home">
    <div class="canvas-container" 
         id="canvas-container"
         data-moon-url="{% static 'images/moon.jpg' %}"
         data-mountain-url="{% static 'images/mountain.png' %}">
    </div>
    
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title" data-i18n="hero_title">Innovation beyond the digital frontier</h1>
        <p class="hero-description" data-i18n="hero_description">
          We create digital identities...
        </p>
      </div>
    </div>
    <div class="scroll-indicator">
      <div class="scroll-arrow">↓</div>
    </div>
  </section>

  <section class="about-section" id="about">
      {% include "partials/about_content.html" if exists else "..." %} 
      <div class="about-container">
        <div class="about-content-grid">
            <div class="about-text-content">
                <p class="about-tagline" data-i18n="about_section.tagline">Who We Are</p>
                <h2 class="about-title" data-i18n="about_section.title">Architects of Digital Identity</h2>
                <p class="about-description" data-i18n="about_section.description">Lunotech is a digital design studio...</p>
            </div>
            <div class="about-visual-content">
                <div class="orbital-rings">
                    <div class="ring ring-1"></div>
                    <div class="ring ring-2"></div>
                    <div class="ring ring-3"></div>
                    <div class="ring-core"></div>
                </div>
            </div>
        </div>
    </div>
  </section>

  <section class="services-section" id="services">
    <div class="container-services">
      <div class="header-services">
        <h2 class="header_services_title" data-i18n="header_services_title">Services</h2>
      </div>
      <div class="services-grid" id="servicesGrid"></div>
    </div>
    
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal-content" id="modalContent">
        <button class="close-btn" id="closeBtn">×</button>
        <div class="modal-body" id="modalBody"></div>
      </div>
    </div>
  </section>

  <div class="marquee-container">
    <div class="gradient-overlay"></div>
    <div class="marquee-content" id="marqueeContent"></div>
  </div>

  <section class="grok-blog-section">
    <div class="grok-blog-container">
      <div class="grok-blog-header grok-blog-fade-in">
        <div class="grok-blog-header-content">
          <h1 class="grok-blog-main-title" data-i18n="blog_title">Latest News</h1>
          <a class="grok-blog-explore-btn" href="{% url 'blog_list' %}" data-i18n="blog_btn">View All</a>
        </div>
      </div>
      
      <div class="grok-blog-posts">
        {% for post in posts %}
        <article class="grok-blog-post grok-blog-slide-up">
          <div class="grok-blog-top-line"></div>
          <div class="grok-blog-post-grid">
            <div class="grok-blog-post-content">
              <div class="grok-blog-post-date">{{ post.date|date:"Y-m-d" }}</div>
              
              <h2 class="grok-blog-post-title">
                <span class="lang-fa">{{ post.title_fa }}</span>
                <span class="lang-en">{{ post.title_en }}</span>
              </h2>
              <p class="grok-blog-post-description">
                <span class="lang-fa">{{ post.subtitle_fa|truncatechars:220 }}</span>
                <span class="lang-en">{{ post.subtitle_en|truncatechars:220 }}</span>
              </p>
              
              <div class="grok-blog-post-footer">
                <a class="grok-blog-read-btn" href="{{ post.get_absolute_url }}">
                   <span data-i18n="blog_read_btn">Read More</span>
                </a>
              </div>
            </div>
            
            <div class="grok-blog-post-image">
              <div class="grok-blog-image-container">
                {% if post.image %}
                    <img alt="{{ post.title_en }}" src="{{ post.image.url }}"/>
                {% else %}
                    <div style="width:100%; height:100%; background:#222;"></div>
                {% endif %}
                <div class="grok-blog-gradient-overlay grok-blog-gradient-purple"></div>
              </div>
            </div>
          </div>
        </article>
        {% empty %}
        <p>No posts found.</p>
        {% endfor %}
      </div>
    </div>
  </section>

</main>
{% endblock %}

{% block body_extra %}
  <script src="{% static 'js/services.js' %}"></script>
  <script src="{% static 'js/home.js' %}"></script>
{% endblock %}
